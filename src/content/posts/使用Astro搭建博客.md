---
title: ä½¿ç”¨Astroæ­å»ºåšå®¢
description: ç®€å•è®°å½•Astroçš„éƒ¨ç½²ä»¥åŠä¸»é¢˜è‡ªå®šä¹‰é…ç½®
categories:
  - åšå®¢
tags:
  - åšå®¢
cover: http://www.98qy.com/sjbz/api.php
status: å·²å®Œæˆ
date: 2025-04-03 11:40
updated: 2025-08-12 13:30
series: åšå®¢
slug: "107368"
---

## ä¸ºä»€ä¹ˆé€‰æ‹© Astro
**Astro**Â æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é™æ€ç«™ç‚¹ç”Ÿæˆæ¡†æ¶ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å¸®åŠ©å¼€å‘è€…åˆ›å»ºÂ **å¿«é€Ÿã€è½»é‡ã€ä¸”ä»¥å†…å®¹ä¸ºæ ¸å¿ƒ**Â çš„ç½‘ç«™ã€‚å®ƒäº 2021 å¹´é¦–æ¬¡å‘å¸ƒï¼Œç”±äºå…¶ç‹¬ç‰¹çš„è®¾è®¡ç†å¿µå’Œå¯¹æ€§èƒ½çš„æè‡´è¿½æ±‚ï¼Œè¿…é€Ÿåœ¨å¼€å‘è€…ç¤¾åŒºä¸­å´­éœ²å¤´è§’ã€‚

### æ¨èä»€ä¹ˆäººé€‚åˆ Astro
1. æƒ³äº²æ‰‹æ‰“é€ ç‹¬å…·ä¸€æ ¼çš„åšå®¢
2. å¯¹ç¼–ç¨‹æœ‰è€å¿ƒ
3. èƒ½è¯»æ‡‚å®˜æ–¹æ–‡æ¡£å¹¶åŸå› é’»ç ”

## æœ¬ç« ç›®æ ‡
1. æœ¬åœ°éƒ¨ç½² Astro
2. éƒ¨ç½²åˆ° Vercel æˆ– GitHub Pages
3. é…ç½®ä¸»é¢˜å¹¶ä¼˜åŒ–

### æ‰€éœ€ç¯å¢ƒ
- node >= 18.14.1
- æ–‡æœ¬ç¼–è¾‘å™¨(VsCode)

## éƒ¨ç½²åŸºç¡€æ¨¡æ¿

åœ¨ Git ä¸­ä½¿ç”¨å‘½ä»¤éƒ¨ç½² astro 

```bash
npm create astro@latest
```

ç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯å‘½åï¼Œå¯ä»¥è‡ªå·±æ›´æ”¹

ç¬¬äºŒä¸ªé€‰é¡¹æ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ blog æ¨¡æ¿

ç¬¬ä¸‰ä¸ªæˆ‘ä»¬é€‰æ‹© yesï¼Œå®‰è£…æ‰€éœ€ä¾èµ–

ç¬¬å››ä¸ªé€‰é¡¹ git ä»“åº“åˆå§‹åŒ–ï¼Œå¯ä»¥å…ˆä¸é€‰

![[ä½¿ç”¨Astroæ­å»ºåšå®¢-202504031206.png|500]]

## ä½¿ç”¨ä¸»é¢˜æ¨¡æ¿éƒ¨ç½² Astro åšå®¢

å¦‚æœä½ ä¸æƒ³ä½¿ç”¨ astro çš„æ¨¡æ¿ï¼ŒGitHub æœ‰è®¸å¤šå¼€å‘è€…æä¾›çš„æ¨¡æ¿

è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ [Fuwari.](https://github.com/saicaca/fuwari)ã€‚è¿™ä¸ªæ¨¡æ¿çœŸçš„å¾ˆå¥½çœ‹ï¼

é¦–å…ˆæˆ‘ä»¬å…ˆå» fork æˆ–æ‹‰å–è¿™ä¸ªä»“åº“

clone åˆ°æœ¬åœ°åä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤

```shell
# å¦‚æœä½ å°šæœªå®‰è£…pnpmï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
npm install -g pnpm

# æ‰§è¡Œä¸‹é¢ä¸¤ä¸ªï¼Œå®‰è£…ä¾èµ–
pnpm install
pnpm add sharp
```

> PSï¼šå¦‚æœä½  pnpm install å¤±è´¥ï¼Œå¯èƒ½æ˜¯`.pnpm - store`Â ç›®å½•çš„æƒé™ä¸å…è®¸ç”¨æˆ·è¿›è¡Œè¯»å†™æ“ä½œï¼Œå»æŠŠå¯¹åº”çš„. pnpm-store æ–‡ä»¶å¤¹=>å±æ€§ï¼Œå°†æƒé™å…¨å¼€å³å¯
>  

![æƒé™ä¸è¶³å¯¼è‡´ä¸‹è½½å¤±è´¥|575](https://gcore.jsdelivr.net/gh/Keduoli03/My_img@img/%E6%9D%83%E9%99%90%E4%B8%8D%E8%B6%B3%E5%AF%BC%E8%87%B4%E4%B8%8B%E8%BD%BD%E5%A4%B1%E8%B4%A5.png)

å®‰è£…å¥½æ‰€éœ€ä¾èµ–åï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ `npm run dev` å³å¯æœ¬åœ°æ„å»ºè¿è¡Œ

### Vercel éƒ¨ç½²

è¿›å…¥ Vercelï¼Œé€‰æ‹©è‡ªå·± fork çš„ä»“åº“ï¼Œä¸€è·¯ç¡®è®¤å³å¯

## ä¸»é¢˜é…ç½®

åœ¨ `src/config.ts` è¿›è¡Œç«™ç‚¹é…ç½®

### é¡µé¢é…ç½®
#### å…³äºé¡µé¢

åœ¨ `src\content\spec\about.md` è¿›è¡Œé…ç½®

ç”±äº Astro ä½¿ç”¨çš„æ˜¯ MDxï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸€è¾¹å†™ md ä¸€è¾¹å†™ htmlï¼Œæ„Ÿè§‰æŒºæœ‰æ„æ€

#### åˆ›å»ºé¡µé¢

ä¸æƒ³é…å›¾... å‚è€ƒåˆ«äººçš„å­

**å‚è€ƒæ–‡ç« **

- [ç»™ä½ çš„Fuwariæ·»åŠ ä¸€ä¸ªå‹é“¾é¡µé¢ - AULyPc](https://blog.aulypc0x0.online/posts/add_friendspage_in_fuwari/)

####  æ·»åŠ ä¸€ä¸ªç³»åˆ—é¡µé¢
**å‚è€ƒæ–‡ç« **
- [åœ¨Fuwariä¸­æ·»åŠ ç³»åˆ—æ  - ä¼Šå¡çš„è®°äº‹æœ¬](https://ikamusume7.org/posts/frontend/add_series_field/)

### æ—¥æœŸä¿®æ”¹

æˆ‘ Obsidianä½¿ç”¨çš„æ—¥æœŸæ˜¯ date, ä½†æ˜¯ä¸»é¢˜ç”¨çš„æ˜¯ publishedï¼Œå¾—æ›¿æ¢ä¸€ä¸‹

ä¿®æ”¹ `src\content\config.ts`

```ts
//src\content\config.ts
import { defineCollection, z } from "astro:content";

const postsCollection = defineCollection({
	schema: z
		.object({
			title: z.string(),
			date: z.coerce.date().optional(), // å…¼å®¹Obsidian date å­—æ®µ
			published: z.coerce.date().optional(), 
			updated: z.coerce.date().optional(),
			draft: z.boolean().optional().default(false),
			description: z.string().optional().default(""),
			image: z.string().optional().default(""),
			tags: z.array(z.string()).optional().default([]),
			category: z.string().optional().default(""),
			lang: z.string().optional().default(""),

			/* For internal use */
			prevTitle: z.string().default(""),
			prevSlug: z.string().default(""),
			nextTitle: z.string().default(""),
			nextSlug: z.string().default(""),
		})
		.transform((data) => {
			// è‡ªåŠ¨å°† date èµ‹å€¼ç»™ publishedï¼ˆå¦‚æœ published ä¸å­˜åœ¨ï¼‰
			return {
				...data,
				published: data.published ?? data.date, // ä½¿ç”¨ ?? é¿å… falsy å€¼é—®é¢˜
			};
		}),
});

export const collections = {
	posts: postsCollection,
};

```

### ä¿®æ”¹åº•éƒ¨ä¿¡æ¯

åœ¨ `src\components\Footer.astro`ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åº•éƒ¨ä¿¡æ¯å¹¶è¿›è¡Œç¼–è¾‘ã€‚è¿™é‡Œæˆ‘ç”¨çš„æ˜¯ä¸è’œå­åŠ ä¸Šæ—¥æœŸè®¡æ•°å™¨

```html
<div class="framework-info">
         Powered by: ğŸª <a href="https://astro.build/">Astro</a> + <a href="https://github.com/saicaca/fuwari">Fuwari</a>âœ¨
        <br>
        <!--ä¸è’œå­è®¡æ•°å™¨-->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--æ·»åŠ ä¸€ä¸ªè®¿é—®é‡-->
        <span>æœ¬"<span style=" color: hsl(192 98% 55%); font-weight: bold; ">é¡µé¢</span>"è®¿é—® <span id="busuanzi_value_page_pv" style=" color: hsl(192 98% 55%); font-weight: bold; "></span> æ¬¡ | ğŸ‘€æ€»è®¿é—® <span id="busuanzi_value_site_pv" style=" color: hsl(192 98% 55%); font-weight: bold; "></span> æ¬¡ | æ€»è®¿å®¢ <span id="busuanzi_value_site_uv" style=" color: hsl(192 98% 55%); font-weight: bold; "></span> äºº</span>
        <br>
        <!--è¿è¡Œæ—¶é—´ -->
        <script type="text/javascript">function runtime(){const t=new Date("09/01/2024 08:00:00"),n=new Date,s=n-t,e=Math.floor(s/1e3),o=Math.floor(e/86400),i=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=e%60;document.getElementById("runningtime").innerHTML=`â±ï¸æœ¬ç«™å·²è¿è¡Œ: ${o}å¤©${i}å°æ—¶${a}åˆ†${r}ç§’ â˜ï¸`}setInterval(runtime,1e3)</script>
        <div class="transition text-50 text-sm text-center hidden md:block"><p id="runningtime"> </p></div>
        </div>
```

### è‡ªå®šä¹‰å­—ä½“

æˆ‘ä»¬å¯ä»¥æ ¹æ®å®˜æ–¹æ–‡æ¡£[ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“ | Docs](https://docs.astro.build/zh-cn/guides/fonts/) è¿›è¡Œæœ¬åœ°å®‰è£…ï¼Œæ›´åŠ å…·ä½“åœ°è¯·å‚ç…§è¿™ç¯‡æ–‡ç« [åœ¨Fuwariä½¿ç”¨è‡ªå®šä¹‰å­—ä½“ - AULyPc](https://blog.aulypc0x0.online/posts/use_custom_fonts_in_fuwari/)

è¿™é‡Œæˆ‘é€‰æ‹©å–å·§è¿›è¡Œå¤–éƒ¨æ–‡ä»¶æ³¨å…¥

åœ¨ `src\components\Navbar.astro` çš„æœ«å°¾æˆ–åˆé€‚ä½ç½®æ³¨å…¥ä½ æƒ³ä½¿ç”¨çš„å­—ä½“èµ„æºï¼Œä»¥è½éœå­¤é¹œä¸ºä¾‹

```html
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" />
      <style>
        body {
          /* å±å¹•ä¼˜åŒ–ç‰ˆ */
          font-family: "LXGW WenKai Screen", sans-serif;
        }
      </style>
```

ç„¶åä¿å­˜ï¼Œå°±èƒ½çœ‹è§ç«™ç‚¹å­—ä½“å·²å‘ç”Ÿæ”¹å˜

### ä¿®æ”¹ä»£ç å—æ ·å¼

æ•™ç¨‹æ¥æº[ä¼Šå¡](https://ikamusume7.org/)å¤§ä½¬

å‚è€ƒäº[ä¼Šå¡-å¢å¼ºFuwariçš„ä»£ç å—åŠŸèƒ½]( https://ikamusume7.org/posts/frontend/code_block_ex/ )

### æ·»åŠ  Waline è¯„è®ºï¼ˆå½’æ¡£ï¼‰

#### ç»„ä»¶å¯¼å…¥

ç»„ä»¶å®Œæ•´ä»£ç 

```html title="src/components/Waline.astro"

<!-- 1. å…ˆé™æ€æ˜¾ç¤ºé˜…è¯»é‡/è¯„è®ºæ•°çš„éª¨æ¶å± -->
<div id="waline-info">
  <div style="display: flex; align-items: center;">
    é˜…è¯»é‡: <span class="waline-pageview-count"  style="margin-left: 5px;">--</span>
  </div>
  <div style="display: flex; align-items: center;">
    è¯„è®ºæ•°ï¼š<span class="waline-comment-count" style="margin-left: 5px;">--</span>
  </div>
</div>

<!-- 2. è¯„è®ºå®¹å™¨ï¼ˆåˆå§‹ä¸ºç©ºï¼‰ -->
<div id="waline"></div>

<!-- 3. å¼‚æ­¥åŠ è½½é€»è¾‘ -->
<script is:inline>
  (async () => {
    const loadCSS = () => {
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'https://unpkg.com/@waline/client@v3/dist/waline.css';
      document.head.appendChild(link);
    };

    const { init } = await import('https://unpkg.com/@waline/client@v3/dist/waline.js');

    const initWaline = () => {
      const isDark = document.documentElement.classList.contains('dark');
      init({
        el: '#waline',
        serverURL: 'https://waline.blueke.top/',
        dark: isDark ? 'html.dark' : false,
        pageview: true,
        comment: true,
        emoji: [
          'https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs',
          'https://cdn.jsdelivr.net/npm/@waline/emojis@1.3.0/qq',
        ],
      });
    };

    // å¹¶è¡ŒåŠ è½½èµ„æº
    loadCSS();
    initWaline();

    new MutationObserver(() => {
      const container = document.getElementById('waline');
      if (container?.innerHTML) {
        container.innerHTML = '';
        initWaline();
      }
    }).observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class']
    });
  })();
</script>

<style>
  #waline-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }
  #waline {
    clear: both;
  }

  .waline-pageview-count::before,
  .waline-comment-count::before {
    content: '';
    display: inline-block;
    width: 1em;
    height: 1em;
    background: #eee;
    animation: pulse 1.5s infinite;
    vertical-align: middle;
    margin-right: 0.3em;
  }
  @keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }
</style>

```

ç„¶åæˆ‘ä»¬åªéœ€è¦åœ¨éœ€è¦è¯„è®ºçš„é¡µé¢ä¸‹å¼•ç”¨ç»„ä»¶

```html
<Waline />
```

### **å‚è€ƒæ–‡ç« **

å®˜æ–¹ç½‘ç«™ [Astro](https://astro.build/)

æŒ‡å—ï¼š[ä¸ºä»€ä¹ˆæ˜¯ Astro? | Docs](https://docs.astro.build/zh-cn/concepts/why-astro/)

[æ–°ä¸€ä»£é™æ€åšå®¢æ¡†æ¶Astroçš„éƒ¨ç½²ä¼˜åŒ–æŒ‡å—ä¸ä½¿ç”¨ä½“éªŒ - æ—¶æ­Œçš„åšå®¢](https://www.lapis.cafe/posts/technicaltutorials/%E6%96%B0%E4%B8%80%E4%BB%A3%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6astro%E7%9A%84%E9%83%A8%E7%BD%B2%E4%BC%98%E5%8C%96%E6%8C%87%E5%8D%97%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/#1%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C)
