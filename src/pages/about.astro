---
import Markdown from '@/components/util/Markdown.astro';
import MainLayout from '../layouts/MainLayout.astro';
import { getEntry } from 'astro:content';
import { render } from 'astro:content';
import Artalk from '@/components/util/Artalk.astro';
import PageHeader from '@/components/page/PageHeader.astro';
import { Icon } from 'astro-icon/components';

const aboutPost = await getEntry("pages", "about");

// 添加类型检查
if (!aboutPost) {
  throw new Error('About page not found');
}

const { Content } = await render(aboutPost);
---
<MainLayout 
    title={aboutPost.data.title}>
    <div class="about-container">
      <PageHeader title={aboutPost.data.title} subtitle={`关于我~`}>
    <Icon slot="icon" name="material-symbols:person-outline" class="w-11 h-11" />
  </PageHeader>

    <Markdown>
        <Content />
    </Markdown>

    <div id="comment-section">
    <Artalk />
  </div>
    </div>
    
    
</MainLayout>

<style>
      
</style>
